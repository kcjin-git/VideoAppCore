@page "/"

@inject Blazored.SessionStorage.ISessionStorageService sessionStorage

<h1>Hello, world!</h1>

<AuthorizeView>

    <Authorized>

        Welcome  @context.User.Identity.Name

            @if (context.User.Identity.IsAuthenticated)
            {
                <p>
                    @eMail
                </p>
            }
            else
            {
                <p> Not Authorized </p>
            }


    </Authorized>

    <NotAuthorized>
        Sign up plz.
    </NotAuthorized>
</AuthorizeView>


<SurveyPrompt Title="How is Blazor working for you?" />

@code
{
    string eMail;
    protected override async Task OnInitializedAsync()
    {

       eMail = await sessionStorage.GetItemAsync<string>("EMailAddr");

    }
}